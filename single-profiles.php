<?php
/**
 * The template for displaying all single posts.
 *
 * @package Able WP
 */

// ICONS
$svg_web = '<svg style="height: 100%; margin-right:.25em" xmlns="http://www.w3.org/2000/svg" version="1.1" x="0" y="0" viewBox="0 0 60 60" enable-background="new 0 0 60 60" xml:space="preserve"><path d="M30 0C18.6 0 9 9.8 9 21.5c0 11 18.7 36.7 19.5 37.8C28.9 59.7 29.4 60 30 60s1.1-0.3 1.5-0.7c0.8-1.1 19.5-26.7 19.5-37.8C51 9.8 41.4 0 30 0zM30 55c-5.9-8.4-17.3-26.1-17.3-33.5 0-9.7 7.9-17.8 17.3-17.8 9.4 0 17.3 8.2 17.3 17.8C47.3 29 35.9 46.6 30 55zM39.1 17.6h-6.3l-1.9-6c-0.1-0.4-0.5-0.6-0.9-0.6 -0.4 0-0.7 0.3-0.9 0.6l-1.9 6h-6.3c-0.4 0-0.7 0.3-0.9 0.6 -0.1 0.4 0 0.8 0.3 1l5.1 3.7 -1.9 6c-0.1 0.4 0 0.8 0.3 1 0.3 0.2 0.8 0.2 1.1 0l5.1-3.7 5.1 3.7c0.2 0.1 0.3 0.2 0.5 0.2 0.2 0 0.4-0.1 0.5-0.2 0.3-0.2 0.5-0.6 0.3-1l-1.9-6 5.1-3.7c0.3-0.2 0.5-0.6 0.3-1C39.8 17.9 39.5 17.6 39.1 17.6zM32.9 21.9c-0.3 0.2-0.5 0.6-0.3 1l1.3 3.9 -3.3-2.4c-0.2-0.1-0.3-0.2-0.5-0.2s-0.4 0.1-0.5 0.2l-3.3 2.4 1.3-3.9c0.1-0.4 0-0.8-0.3-1l-3.3-2.4h4.1c0.4 0 0.7-0.3 0.9-0.6l1.3-3.9 1.3 3.9c0.1 0.4 0.5 0.6 0.9 0.6h4.1L32.9 21.9z"/></svg>';

$svg_tw = '<svg style="height: 100%; margin-right:.25em" xmlns="http://www.w3.org/2000/svg" version="1.1" x="0" y="0" viewBox="0 0 72 67.2" enable-background="new 0 0 72 67.235" xml:space="preserve"><defs><rect x="1.5" width="272" height="67.3"/></defs><clipPath><use overflow="visible"/></clipPath><path clip-path="url(#SVGID_2_)" d="M273.5 12.6C273.5 5.7 267.8 0 260.7 0h-42.7c-7.1 0-12.8 5.7-12.8 12.6v42.1c0 7 5.7 12.6 12.8 12.6h42.7c7.1 0 12.8-5.7 12.8-12.6V12.6zM256.4 32.2v7h-2.9v-7h-5.7l0-2.8h5.7v-5.6h2.9v5.6h5.7v2.8H256.4zM243.5 12.6h-3.7c2.5 2.5 4.2 4.5 4.2 8.3 0 7.2-6.7 8.1-6.7 11.7 0 3.6 8.7 5 8.7 12.8 0 8-8.9 11.4-15.7 11.4 -5.4 0-12.9-2.1-12.9-8.7 0-3.1 2-5.7 4.6-7.4 3.3-2 7.6-2.5 11.4-2.8 -1-1.3-1.8-2.5-1.8-4.1 0-0.8 0.2-1.6 0.6-2.4 -0.6 0.1-1.3 0.1-1.9 0.1 -5.5 0-9.9-3.9-9.9-9.5 0-8 7.8-12.4 15.1-12.4h11.8L243.5 12.6zM238.7 23.9c0-4.1-2.4-11.1-7.5-11.1 -3.8 0-5.5 3.2-5.5 6.4 0 4.2 2.4 10.7 7.5 10.7C236.8 30 238.7 27.2 238.7 23.9M242 47.8c0-3.8-3.8-6-6.5-8 -0.5-0.1-0.9-0.1-1.4-0.1 -4.6 0-11.4 1.4-11.4 7.2 0 5.4 5.9 7.4 10.5 7.4C237.4 54.3 242 52.6 242 47.8M172.1 54.7V12.6C172.1 5.7 166.4 0 159.3 0h-42.7c-7.1 0-12.8 5.7-12.8 12.6v42.1c0 7 5.7 12.6 12.8 12.6h24.2V40.7h-10v-9.8h10v-7.3c0-8.7 5.5-13.4 13.4-13.4 3.7 0 6.6 0.3 8 0.4v9.1l-5.9 0c-4.3 0-5.5 2-5.5 4.9v6.3h10.4l-1.3 9.8h-9v26.6h8.5C166.4 67.3 172.1 61.6 172.1 54.7M71.6 14.3c-2.6 1.1-5.4 1.9-8.3 2.2 3-1.8 5.3-4.5 6.3-7.8 -2.8 1.6-5.9 2.8-9.1 3.4 -2.6-2.8-6.4-4.5-10.5-4.5 -8 0-14.4 6.4-14.4 14.1 0 1.1 0.1 2.2 0.4 3.2C24.1 24.4 13.5 18.8 6.4 10.2c-1.2 2.1-2 4.5-2 7.1 0 4.9 2.5 9.2 6.4 11.8 -2.4-0.1-4.6-0.7-6.5-1.8v0.2c0 6.9 4.9 12.6 11.5 13.9 -1.2 0.3-2.5 0.5-3.8 0.5 -0.9 0-1.8-0.1-2.7-0.2 1.8 5.6 7.1 9.7 13.4 9.8 -4.9 3.8-11.1 6-17.8 6 -1.2 0-2.3 0-3.5-0.2 6.4 4 13.9 6.4 22.1 6.4 26.4 0 40.9-21.6 40.9-40.3 0-0.6 0-1.2 0-1.8C67.2 19.6 69.7 17.1 71.6 14.3"/></svg>';

$svg_ig = '<svg style="height: 100%; margin-right:.25em" xmlns="http://www.w3.org/2000/svg" version="1.1" x="0" y="0" viewBox="0 0 512 512" enable-background="new 0 0 512 512" xml:space="preserve"><path display="inline" fill-rule="evenodd" clip-rule="evenodd" d="M66.1 0.5h379.8c36.1 0 65.6 29.5 65.6 65.6v379.8c0 36.1-29.5 65.6-65.6 65.6H66.1C30 511.5 0.5 482 0.5 445.9V66.1C0.5 30 30 0.5 66.1 0.5L66.1 0.5zM372.7 57.3c-12.6 0-23 10.4-23 23v55.1c0 12.7 10.4 23 23 23h57.8c12.7 0 23-10.4 23-23V80.3c0-12.6-10.4-23-23-23H372.7L372.7 57.3zM453.7 216.6h-45c4.3 13.9 6.6 28.6 6.6 43.9 0 85-71.1 153.9-158.8 153.9 -87.7 0-158.8-68.9-158.8-153.9 0-15.2 2.3-30 6.6-43.9H57.3v215.9c0 11.2 9.1 20.3 20.3 20.3h355.8c11.2 0 20.3-9.1 20.3-20.3V216.6L453.7 216.6zM256.5 155.4c-56.7 0-102.6 44.5-102.6 99.4s45.9 99.4 102.6 99.4c56.7 0 102.6-44.5 102.6-99.4S313.2 155.4 256.5 155.4z"/></svg>';

$svg_li = '<svg style="height: 100%; margin-right:.25em" xmlns="http://www.w3.org/2000/svg" version="1.1" x="0" y="0" viewBox="0 0 100 100" enable-background="new 0 0 100 100" xml:space="preserve"><path d="M92.5 0.2H7.5c-4.1 0-7.4 3.2-7.4 7.2v85.3c0 4 3.3 7.2 7.4 7.2h84.9c4.1 0 7.4-3.2 7.4-7.2V7.3C99.8 3.4 96.5 0.2 92.5 0.2zM29.7 85.1h-14.8V37.5h14.8V85.1zM22.3 31c-4.7 0-8.6-3.8-8.6-8.6 0-4.7 3.8-8.6 8.6-8.6 4.7 0 8.6 3.8 8.6 8.6C30.9 27.2 27.1 31 22.3 31zM85.1 85.1H70.3V62c0-5.5-0.1-12.6-7.7-12.6 -7.7 0-8.9 6-8.9 12.2v23.5H39V37.5H53.2v6.5h0.2c2-3.7 6.8-7.7 14-7.7 15 0 17.7 9.8 17.7 22.7v26.1H85.1z"/></svg>';

$svg_fb = '<svg style="height: 100%; margin-right:.25em" xmlns="http://www.w3.org/2000/svg" version="1.1" x="0" y="0" viewBox="0 0 68.8 67.2" enable-background="new 0 0 68.833 67.235" xml:space="preserve"><defs><rect x="-102" width="272" height="67.3"/></defs><clipPath><use overflow="visible"/></clipPath><path clip-path="url(#SVGID_2_)" d="M170 12.6C170 5.7 164.3 0 157.2 0h-42.7c-7.1 0-12.8 5.7-12.8 12.6v42.1c0 7 5.7 12.6 12.8 12.6h42.7c7.1 0 12.8-5.7 12.8-12.6V12.6zM152.9 32.2v7h-2.9v-7h-5.7l0-2.8h5.7v-5.6h2.9v5.6h5.7v2.8H152.9zM140 12.6h-3.7c2.5 2.5 4.2 4.5 4.2 8.3 0 7.2-6.7 8.1-6.7 11.7 0 3.6 8.7 5 8.7 12.8 0 8-8.9 11.4-15.7 11.4 -5.4 0-12.9-2.1-12.9-8.7 0-3.1 2-5.7 4.6-7.4 3.3-2 7.6-2.5 11.4-2.8 -1-1.3-1.8-2.5-1.8-4.1 0-0.8 0.2-1.6 0.6-2.4 -0.6 0.1-1.3 0.1-1.9 0.1 -5.5 0-9.9-3.9-9.9-9.5 0-8 7.8-12.4 15.1-12.4h11.8L140 12.6zM135.2 23.9c0-4.1-2.4-11.1-7.5-11.1 -3.8 0-5.5 3.2-5.5 6.4 0 4.2 2.4 10.7 7.5 10.7C133.3 30 135.2 27.2 135.2 23.9M138.5 47.8c0-3.8-3.8-6-6.5-8 -0.5-0.1-0.9-0.1-1.4-0.1 -4.6 0-11.4 1.4-11.4 7.2 0 5.4 5.9 7.4 10.5 7.4C133.9 54.3 138.5 52.6 138.5 47.8M68.6 54.7V12.6C68.6 5.7 62.9 0 55.8 0H13.1C6 0 0.3 5.7 0.3 12.6v42.1c0 7 5.7 12.6 12.8 12.6h24.2V40.7h-10v-9.8h10v-7.3c0-8.7 5.5-13.4 13.4-13.4 3.7 0 6.6 0.3 8 0.4v9.1l-5.9 0c-4.3 0-5.5 2-5.5 4.9v6.3h10.4l-1.3 9.8h-9v26.6h8.5C62.9 67.3 68.6 61.6 68.6 54.7M-31.9 14.3c-2.6 1.1-5.4 1.9-8.3 2.2 3-1.8 5.3-4.5 6.3-7.8 -2.8 1.6-5.9 2.8-9.1 3.4 -2.6-2.8-6.4-4.5-10.5-4.5 -8 0-14.4 6.4-14.4 14.1 0 1.1 0.1 2.2 0.4 3.2 -11.9-0.6-22.6-6.2-29.6-14.8 -1.2 2.1-2 4.5-2 7.1 0 4.9 2.5 9.2 6.4 11.8 -2.4-0.1-4.6-0.7-6.5-1.8v0.2c0 6.9 4.9 12.6 11.5 13.9 -1.2 0.3-2.5 0.5-3.8 0.5 -0.9 0-1.8-0.1-2.7-0.2 1.8 5.6 7.1 9.7 13.4 9.8 -4.9 3.8-11.1 6-17.8 6 -1.2 0-2.3 0-3.5-0.2 6.4 4 13.9 6.4 22.1 6.4 26.4 0 40.9-21.6 40.9-40.3 0-0.6 0-1.2 0-1.8C-36.3 19.6-33.8 17.1-31.9 14.3"/></svg>';

$svg_vim = '<svg style="height: 100%; margin-right:.25em" xmlns="http://www.w3.org/2000/svg" version="1.1" x="0" y="0" viewBox="0 0 841.9 595.3" enable-background="new 0 0 841.889 595.281" xml:space="preserve"><path fill="#231F20" d="M661.5 0H180.5C148.9 0 123 25.9 123 57.5v480.9C123 570.1 148.9 596 180.5 596h480.9C693.1 596 719 570.1 719 538.5V57.5C719 25.9 693.1 0 661.5 0zM623.1 189.2c-4.7 24.3-35.7 109.4-91.9 184.6 -24.6 31.8-53.3 62.9-90.2 84.5 -13.6 7.9-40.5 18-58.4 10.5 -12.5-5.2-22.1-16.2-29.8-29.9 -13.8-24.8-21.3-58.8-27.8-84.5 -6-23.6-11.6-46-19-66.5 -4.3-12-6.9-24.2-11.8-35.8 0 0 0-0.1-0.1-0.1 0 0 0 0.1 0.1 0.1 -0.2-0.3-0.4-0.6-0.6-0.9 0.2 0.2 0.3 0.5 0.5 0.8 -1.4-3.2-2.9-6.4-4.8-9.5 -14.1-23.4-34.2-0.9-55.3-4 -5.7-0.8-10-4.9-12.8-9.3 -1.6-2.5 1.2-5.1-7-7.1v-2.3c33.1-24.1 59.4-53.4 94.9-74 11.1-6.5 30.9-13.8 46.3-9.3 12.1 3.5 23.1 14.7 29 31.1 0 0 0 0 0 0 1.1 0 2 5.4 2.8 7.8 5.9 18.3 9.1 41.7 12.1 59.5 4.8 28 4 71.4 20 95.9h0c2.1 0 4.5 5.7 7.2 8.6 26.2 27.7 46.2-11.3 56.9-30.8 9.2-17 17.5-34.9 18.9-51.1 0.8-9.2 0.4-16.6-1.2-22.3 -4.6-16.3-18.7-20.2-40.7-19.5 -2.8 0.1-5.7 0.2-8.8 0.5 20.1-61.5 79.1-87.2 96.5-89.8 21.5-3.2 52.7-2.6 67.5 15.8 2.9 3.6 5.1 7.7 6.5 11.9C625.8 164.7 625.3 177.1 623.1 189.2z"/></svg>';

$svg_gplus = '<svg style="height: 100%; margin-right:.25em" xmlns="http://www.w3.org/2000/svg" version="1.1" x="0" y="0" viewBox="0 0 68.7 67.2" enable-background="new 0 0 68.667 67.235" xml:space="preserve"><defs><rect x="-203.3" /></defs><clipPath><use overflow="visible"/></clipPath><path clip-path="url(#SVGID_2_)" d="M68.7 12.6C68.7 5.7 62.9 0 55.9 0H13.1C6 0 0.3 5.7 0.3 12.6v42.1c0 7 5.7 12.6 12.8 12.6h42.7c7.1 0 12.8-5.7 12.8-12.6V12.6zM51.6 32.2v7h-2.9v-7h-5.7L43 29.4h5.7v-5.6h2.9v5.6h5.7v2.8H51.6zM38.6 12.6h-3.7c2.5 2.5 4.2 4.5 4.2 8.3 0 7.2-6.7 8.1-6.7 11.7 0 3.6 8.7 5 8.7 12.8 0 8-8.9 11.4-15.7 11.4 -5.4 0-12.9-2.1-12.9-8.7 0-3.1 2-5.7 4.6-7.4 3.3-2 7.6-2.5 11.4-2.8 -1-1.3-1.8-2.5-1.8-4.1 0-0.8 0.2-1.6 0.6-2.4 -0.6 0.1-1.3 0.1-1.9 0.1 -5.5 0-9.9-3.9-9.9-9.5 0-8 7.8-12.4 15.1-12.4h11.8L38.6 12.6zM33.9 23.9c0-4.1-2.4-11.1-7.5-11.1 -3.8 0-5.5 3.2-5.5 6.4 0 4.2 2.4 10.7 7.5 10.7C32 30 33.9 27.2 33.9 23.9M37.2 47.8c0-3.8-3.8-6-6.5-8 -0.5-0.1-0.9-0.1-1.4-0.1 -4.6 0-11.4 1.4-11.4 7.2 0 5.4 5.9 7.4 10.5 7.4C32.6 54.3 37.2 52.6 37.2 47.8M-32.7 54.7V12.6C-32.7 5.7-38.4 0-45.5 0H-88.2c-7.1 0-12.8 5.7-12.8 12.6v42.1c0 7 5.7 12.6 12.8 12.6h24.2V40.7h-10v-9.8h10v-7.3c0-8.7 5.5-13.4 13.4-13.4 3.7 0 6.6 0.3 8 0.4v9.1l-5.9 0c-4.3 0-5.5 2-5.5 4.9v6.3h10.4l-1.3 9.8h-9v26.6h8.5C-38.4 67.3-32.7 61.6-32.7 54.7M-133.2 14.3c-2.6 1.1-5.4 1.9-8.3 2.2 3-1.8 5.3-4.5 6.3-7.8 -2.8 1.6-5.9 2.8-9.1 3.4 -2.6-2.8-6.4-4.5-10.5-4.5 -8 0-14.4 6.4-14.4 14.1 0 1.1 0.1 2.2 0.4 3.2 -11.9-0.6-22.6-6.2-29.6-14.8 -1.2 2.1-2 4.5-2 7.1 0 4.9 2.5 9.2 6.4 11.8 -2.4-0.1-4.6-0.7-6.5-1.8v0.2c0 6.9 4.9 12.6 11.5 13.9 -1.2 0.3-2.5 0.5-3.8 0.5 -0.9 0-1.8-0.1-2.7-0.2 1.8 5.6 7.1 9.7 13.4 9.8 -4.9 3.8-11.1 6-17.8 6 -1.2 0-2.3 0-3.5-0.2 6.4 4 13.9 6.4 22.1 6.4 26.4 0 40.9-21.6 40.9-40.3 0-0.6 0-1.2 0-1.8C-137.6 19.6-135.1 17.1-133.2 14.3"/></svg>';

$svg_gh = '<svg style="height: 100%; margin-right:.25em" xmlns="http://www.w3.org/2000/svg" version="1.1" x="0" y="0" viewBox="0 0 42.5 42.5" enable-background="new 0 0 42.52 42.52" xml:space="preserve"><path fill-rule="evenodd" clip-rule="evenodd" d="M21.3 0.7c-11.7 0-21.1 9.5-21.1 21.1 0 9.3 6.1 17.3 14.5 20 1.1 0.2 1.4-0.5 1.4-1 0-0.5 0-1.8 0-3.6 -5.9 1.3-7.1-2.8-7.1-2.8 -1-2.4-2.3-3.1-2.3-3.1 -1.9-1.3 0.1-1.3 0.1-1.3 2.1 0.1 3.2 2.2 3.2 2.2 1.9 3.2 4.9 2.3 6.1 1.8 0.2-1.4 0.7-2.3 1.3-2.8 -4.7-0.5-9.6-2.3-9.6-10.4 0-2.3 0.8-4.2 2.2-5.7 -0.2-0.5-0.9-2.7 0.2-5.6 0 0 1.8-0.6 5.8 2.2 1.7-0.5 3.5-0.7 5.3-0.7 1.8 0 3.6 0.2 5.3 0.7 4-2.7 5.8-2.2 5.8-2.2 1.2 2.9 0.4 5.1 0.2 5.6 1.4 1.5 2.2 3.4 2.2 5.7 0 8.1-4.9 9.9-9.6 10.4 0.8 0.7 1.4 1.9 1.4 3.9 0 2.8 0 5.1 0 5.8 0 0.6 0.4 1.2 1.5 1 8.4-2.8 14.4-10.7 14.4-20C42.4 10.1 32.9 0.7 21.3 0.7z"/></svg>';


get_header(); ?>

		<?php while ( have_posts() ) : the_post(); ?>

			<?php
				$full_name = get_the_title();
				$pieces = explode(" ", $full_name);
				$first_name = $pieces[0];

				$custom = get_post_custom($post->ID);
				$job_title = $custom["_job_title"][0];
				$pr_email = $custom["_email"][0];
				$pr_url = $custom["_url"][0];
				$pr_url_title = $custom["_url_title"][0];
				$pr_twitter = $custom["_twitter"][0];
				$pr_instagram = $custom["_instagram"][0];
				$pr_linkedin = $custom["_linkedin"][0];
				$pr_github = $custom["_github"][0];
				$pr_email = $custom["_email"][0];
			?>

			<div class="row">

			<header class="entry-header container">
				<?php the_title( '<h1 class="entry-title col-xs-12 col-md-10 col-md-offset-1">', '</h1>' ); ?>
				<h2 class="col-xs-12 col-md-10 col-md-offset-1 job-title"><?php echo $job_title; ?></h2>
			</header><!-- .entry-header -->

			

			<div class="container">

			<div class="col-md-3 col-md-offset-1">
			<?php 
				if ( has_post_thumbnail() ) {
					echo '<figure class="profile-photo">';
					the_post_thumbnail();
					echo '</figure>';
				}
			?>
			</div>

			<div class="col-md-3">
			<?php 
				
				
				echo '<ul class="contact-methods">';
				if (isset($pr_url) && isset($pr_url_title)) {
					echo '<li><span class="icon">'.$svg_web.'</span><a href="' . $pr_url .'" class="">Visit ' . $pr_url_title . '</a></li>';
				} elseif (isset($pr_url)) {
					echo '<li><span class="icon">'.$svg_web.'</span><a href="' . $pr_url .'" class="">Visit ' . $pr_url . '</a></li>';
				}
				if (isset($pr_twitter)) {
					echo '<li><span class="icon">'.$svg_tw.'</span><a href="http://twitter.com/' . $pr_twitter .'" class="exlink twitter">Follow ' . $first_name . ' on Twitter</a></li>';
				}
				if (isset($pr_instagram)) {
					echo '<li><span class="icon">'.$svg_ig.'</span><a href="http://instagram.com/' . $pr_instagram .'" class="exlink instagram">Follow ' . $first_name . ' on Instagram</a></li>';
				} 
				if (isset($pr_linkedin)) {
					echo '<li><span class="icon">'.$svg_li.'</span><a href="https://uk.linkedin.com/in/' . $pr_linkedin .'" class="exlink linkedin">Connect with ' . $first_name . ' on LinkedIn</a></li>';
				} 
				if (isset($pr_github)) {
					echo '<li><span class="icon">'.$svg_gh.'</span><a href="http://github.com/' . $pr_github .'" class="exlink twitter">' . $first_name . ' on Github</a></li>';
				} 
				
				echo '</ul>';			 

			?>
			</div>

			<div class="skills col-md-3 col-md-offset-1">
		
				<?php 

				$taxonomy     = 'skill';

				// get the term IDs assigned to post.
				$post_terms = wp_get_object_terms( $post->ID, $taxonomy, array( 'fields' => 'ids' ) );
				$term_ids = implode( ',' , $post_terms );

				$orderby      = 'name'; 
				$show_count   = 0;      // 1 for yes, 0 for no
				$pad_counts   = 0;      // 1 for yes, 0 for no
				$hierarchical = 1;      // 1 for yes, 0 for no
				$title        = '';

				$args = array(
				  'taxonomy'     => $taxonomy,
				  'orderby'      => $orderby,
				  'show_count'   => $show_count,
				  'pad_counts'   => $pad_counts,
				  'hierarchical' => $hierarchical,
				  'title_li'     => $title,
				  'include'		 => $term_ids
				);
				?>

				<ul class="skills">
				<?php wp_list_categories( $args ); ?>
				</ul>

			</div><!-- .skills -->
			</div><!-- .container -->
			<div class="container">

				<div class="entry-content col-md-7 col-md-offset-1 team-profile-bio">
						<?php the_content(); ?>
				</div><!-- .entry-content -->
				<div class="col-md-4">
				</div><!-- .col-md-4 -->
			</div><!-- .row -->
					
		<?php endwhile; // end of the loop. ?>

<?php get_footer(); ?>
